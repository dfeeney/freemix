{% load i18n %}

<div id="load" class="ui-helper-hidden">
  <h1 id="upload-label">{% trans "Upload Your Data" %}</h1>
  <span id="replace-label">
    <h1>{% trans "Replace Your Data" %}</h1>
  </span>

  <p>{% blocktrans %}Want to learn more about <a class="supported-file-types" href="#supported-file-types">Supported File Types</a>?{% endblocktrans %}</p>
  

  <div id="load-failure-general" class="load-failure ui-helper-hidden ui-corner-all ui-state-error">
    <span>{% blocktrans %} <strong>Error:</strong> We were unable to extract any records from your data. Please see the list of <a class="supported-file-types" href="#supported-file-types">supported file types</a>.  If loading XML data, please visit <a href="http://www.validome.org/xml/">http://www.validome.org/xml/</a> to validate the file.{% endblocktrans %} <span class="close">&nbsp;</span></span>
  </div>

  <div id="loading" class="ui-helper-hidden loading">
    <p>{% trans "Uploading. This may take a while." %}
        <input type="button" id="cancel-load-button" class="negative-button" value="{% trans "Cancel" %}"/>
    </p>
  </div>

  <div id="load-form" class="colmask doublepage">
     <div class="colleft">
        {% if file_form %}

        <div id="upload-from-file" class="basic_form col1">

          <fieldset class="fixed">
            <legend>{% trans "From your computer" %}</legend>
            
            <div class="fieldform">
              
              <table>
                <tr>
                  <td width="75%">

                    <form enctype="multipart/form-data" action="{% url file_transform %}" method="POST">
                      
                      <div class="fieldWrapper">
                        {{ file_form.file.errors }}
                        <label for="id_file"><b>File</b></label><br />
                        {{ file_form.file }}
                        <br />
                      </div>
                                      
                      <input type="submit" value="Upload" class="submit" />

                      <div id="load-failure-file" class="load-failure ui-helper-hidden ui-corner-all ui-state-error">
                        <span>{% blocktrans %}A file is required for upload.{% endblocktrans %} <span class="close">&nbsp;</span></span>
                      </div>

                    </form>

                  </td>
                  <td>
                      <img src = "{{STATIC_URL}}dataset/img/computer.png" width="96" alt="login icon" />

                  </td>
                </tr>
              </table>
                   
            </div>          
            
          </fieldset>

        </div>

        {% endif %}
    
        {% if url_form %}

        <div id="upload-from-url" class="basic_form col2">

          <fieldset class="fixed">
            
            <legend>{% trans "From the Web"%}</legend>

            <div class="fieldform">

              <table>
                <tr>
                  <td width="75%">

                    <form  action="{% url url_transform%}" method="GET">
                      <div class="fieldWrapper">
                        {{ url_form.file.errors }}
                        <label for="id_url"><b>URL</b></label>
                        <br />
                        {{ url_form.url }}
                        <br />
                      </div>
                      
                      <input type="submit" value="Retrieve" class="submit" />

                        <div id="load-failure-url" class="load-failure ui-helper-hidden ui-corner-all ui-state-error">
                          <span>{% blocktrans %}A valid URL is required for upload.{% endblocktrans %} <span class="close">&nbsp;</span></span>
                        </div>

                    </form>


                  </td>
              
                  <td>
                    <img src = "{{STATIC_URL}}dataset/img/web.png" width="96" alt="login icon" />
                  </td>
                </tr>
              </table>
                
            </div>

          </fieldset>

        </div>
        {% endif %}

      </div>

    </div>

    <div id="supported-file-types" title="{% trans "Supported File Types" %}">
        {% include "dataset/edit/supported.html" %}
    </div>
    
</div>
